<div class="container mt-5">
  <h1 class="mb-5 moody-title-small">Mes mood favoris</h1>

  <% if @favorite_chats.any? %>
    <div class="favorites-list">
      <% @favorite_chats.each do |chat| %>
      <div class="favorite-item moody-card mb-4">
        <div class="card-body d-flex justify-content-between align-items-center p-5">
          <div class="flex-grow-1 pe-5">
            <h5 class="mb-4">
              <%= link_to chat.title.presence || Chat::DEFAULT_TITLE, chat_path(chat), class: "text-decoration-none favorite-title" %>
              <span class="badge bg-neon-pink ms-3">★</span>
            </h5>
            <div class="favorite-meta">
              <small class="text-muted d-block mb-3">
                Créé le : <%= chat.created_at.strftime("%d/%m/%Y à %H:%M") %>
              </small>
              <% if chat.mood.present? || chat.activity.present? %>
                <div class="mt-3">
                  <% if chat.mood.present? %>
                    <span class="badge bg-secondary me-2 mb-2 px-3 py-2">Humeur: <%= chat.mood %></span>
                  <% end %>
                  <% if chat.activity.present? %>
                    <span class="badge bg-secondary mb-2 px-3 py-2">Activité: <%= chat.activity %></span>
                  <% end %>
                </div>
              <% end %>
            </div>
          </div>
          <div class="ms-4">
            <%= link_to "Voir le chat", chat_path(chat), class: "btn btn-neon-primary" %>
          </div>
        </div>
      </div>
      <% end %>
    </div>
  <% else %>
    <div class="text-center py-5">
      <p class="text-muted">Aucun mood favori pour le moment.</p>
      <%= link_to "Créer un nouveau mood", root_path, class: "btn btn-neon-primary" %>
    </div>
  <% end %>
</div>
