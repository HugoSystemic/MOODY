<div class="container mt-5">
  <h1 class="mb-4 text-white">Mes chats</h1>

  <div class="mb-3 d-flex align-items-center">

    <%= link_to 'Toutes les sessions', chats_path,
        class: "btn btn-#{'primary' unless params[:liked].present?} btn-sm me-2" %>

    <%= link_to '★ Favoris', chats_path(liked: true),
        class: "btn btn-#{'primary' if params[:liked] == 'true'} btn-sm me-2" %>

    <small class="ms-auto text-muted">Affichage : **<%= @filter_title %>**</small>
  </div>

  <hr>

  <% @chats.each do |chat| %>
    <div class="card mb-3 p-3 d-flex flex-row align-items-center shadow border border-white" style="background-color: #0c1929; color: #FFFFFF;">

      <h5 class="flex-grow-1 mb-0 me-2">
        <%= link_to chat.title, chat_path(chat), class: "text-decoration-none fw-bold", style: "color: #f23263;" %>

        <% if chat.liked %>
          <i class="fas fa-star text-warning ms-1" style="font-size: 1rem;" title="Favori"></i>
        <% end %>
      </h5>

      <div class="text-end">
        <p class="mb-1">Utilisateur : <span class="text-coral"><%= chat.user.email %></span></p>
      <p class="mb-0 text-white-50">Créé le : <%= chat.created_at.strftime("%d/%m/%Y %H:%M") %></p>
      </div>
    </div>
  <% end %>

  <%= link_to "Créer une nouvelle session", new_chat_path, class: "btn btn-coral mt-3 shadow", style: "color: #f23263;" %>
</div>
